import{r,u as g,A as v,c as b,d as y,_ as x,b as S,o as V,e,j as E,v as k,h as a,m as w,k as A,t as c,g as B,C,x as R,a as D}from"./index-DG9AaiDl.js";const F={class:"log-p"},M={class:"container"},N={class:"log-p__inner"},P={class:"log-p__content"},U={class:"form"},j={class:"form__items"},I={class:"item-form"},T={"data-error":""},$={class:"form__footer"},q=["disabled"],H={__name:"RecoveryPage",setup(z){const i=r(""),l=r(""),u={email:async s=>{if(s)if(R(s))if(l.value!=s)if(i.value!=s)try{const{data:t}=await D.getUser(s);return t.length==0?(l.value=s,"Пользователь с таким email не найден"):(i.value=s,!0)}catch(t){console.log(t)}else return!0;else return"Пользователь с таким email не найден";else return"Некорректный E-mail";else return"Заполните поле"}},{errors:d,handleSubmit:m,isSubmitting:n,defineField:_}=g({validationSchema:u}),[o,p]=_("email"),f=S();return m(async s=>{}),v(()=>{localStorage.getItem("user")&&f.push("/catalog")}),(s,t)=>(V(),b(x,null,{default:y(()=>[e("section",F,[e("div",M,[e("div",N,[e("div",P,[t[1]||(t[1]=e("div",{class:"log-p__top"},[e("h1",null,"Забыли пароль?"),e("p",null,"Введите адрес электронной почты, на которой вы зарегистрировались, и мы вышлем ссылку для сброса пароля ")],-1)),e("form",U,[e("div",j,[e("div",I,[E(e("input",w({type:"email",placeholder:"E-mail",name:"mail","onUpdate:modelValue":t[0]||(t[0]=h=>A(o)?o.value=h:null)},a(p)),null,16),[[k,a(o)]]),e("div",T,c(a(d).email),1)])]),e("div",$,[e("button",{class:"btn-reset main-btn",type:"submit",disabled:a(n)},[e("span",null,c(a(n)?"Отправить ссылку...":"Отправить ссылку"),1)],8,q)])]),B(C)])])])])]),_:1}))}};export{H as default};
