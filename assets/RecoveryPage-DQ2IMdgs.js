import{A as v,r as m,u as b,B as y,w as S,c as w,d as x,_ as A,b as V,o as B,e,i as C,j as E,v as k,h as a,m as M,k as R,t as D,n as F,g as N,C as P,x as U,a as j}from"./index-lV-vT8ZW.js";const z={class:"log-p"},T={class:"container"},$={class:"log-p__inner"},q={class:"log-p__content"},G={class:"form__items"},H={class:"item-form"},I={"data-error":""},J={class:"form__footer"},K=["disabled"],Q={__name:"RecoveryPage",setup(L){const o=v(),n=m(""),r=m(""),_={email:async t=>{if(t)if(U(t))if(r.value!=t)if(n.value!=t)try{const{data:s}=await j.getUser(t);return s.length==0?(r.value=t,"Пользователь с таким email не найден"):(n.value=t,!0)}catch(s){console.log(s)}else return!0;else return"Пользователь с таким email не найден";else return"Некорректный E-mail";else return"Заполните поле"}},{errors:p,handleSubmit:f,isSubmitting:c,defineField:g}=b({validationSchema:_}),[i,h]=g("email"),u=V(),d=f(async t=>{});return y(()=>{o.logged&&u.push({name:"catalog"})}),S(()=>o.logged,()=>{o.logged&&u.push({name:"catalog"})}),(t,s)=>(B(),w(A,null,{default:x(()=>[e("section",z,[e("div",T,[e("div",$,[e("div",q,[s[2]||(s[2]=e("div",{class:"log-p__top"},[e("h1",null,"Забыли пароль?"),e("p",null,"Введите адрес электронной почты, на которой вы зарегистрировались, и мы вышлем ссылку для сброса пароля ")],-1)),e("form",{class:"form",onSubmit:s[1]||(s[1]=C((...l)=>a(d)&&a(d)(...l),["prevent"]))},[e("div",G,[e("div",H,[E(e("input",M({type:"email",placeholder:"E-mail",name:"mail","onUpdate:modelValue":s[0]||(s[0]=l=>R(i)?i.value=l:null)},a(h)),null,16),[[k,a(i)]]),e("div",I,D(a(p).email),1)])]),e("div",J,[e("button",{class:"btn main-btn",type:"submit",disabled:a(c)},[e("span",{class:F(a(c)&&"loading")},"Отправить ссылку",2)],8,K)])],32),N(P)])])])])]),_:1}))}};export{Q as default};
